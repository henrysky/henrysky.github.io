<!DOCTYPE html>
<html lang="en">

<head>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="Personal Website of Henry W. Leung" />
    <meta name="author" content="Henry W. Leung" />
    <meta name="theme-color" content="#003366"/>
    <title>Blog | Henry Leung&#39;s Personal Website</title>
    <link rel="icon" type="image/x-icon" href=https://henrysky.github.io/assets/favicon.ico />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/simplelightbox/2.14.3/simple-lightbox.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.4/css/academicons.min.css">
    <link href=https://henrysky.github.io/css/styles.css rel="stylesheet" />
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KBFQQ2QV4Q"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-KBFQQ2QV4Q');
    </script>
    <script>
        var theme = localStorage.getItem('theme') || 'auto';
        document.documentElement.setAttribute('data-bs-theme', theme);

        function setDarkTheme() {
            if (theme == 'auto') {
                theme = 'dark';
            }
            else if (theme == 'light') {
                theme = 'auto';
            } else {
                theme = 'light';
            }
            setButtonIcon();
            localStorage.setItem('theme', theme);
        };

        function setAutoCorrectTheme() {
            if (theme == 'auto') {
                if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    document.documentElement.setAttribute('data-bs-theme', 'dark');
                } else {
                    document.documentElement.setAttribute('data-bs-theme', 'light');
                }
            } 
            else {
                document.documentElement.setAttribute('data-bs-theme', theme);
            }
        };

        function setButtonIcon() {
            setAutoCorrectTheme();
            if (theme == 'auto') {
                document.getElementById("themebutton").className = "fa-solid fa-circle-half-stroke d-lg-flex justify-content-center";
            }
            else if (theme == 'light') {
                document.getElementById("themebutton").className = "fa-solid fa-sun d-lg-flex justify-content-center";
            }
            else if (theme == 'dark') {
                document.getElementById("themebutton").className = "fa-solid fa-moon d-lg-flex justify-content-center";
            }
        };

    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
        tex: {
        displayMath: [['\\[', '\\]'], ['$$', '$$']],  
        inlineMath:  [['\\(', '\\)'], ['$', '$']],  
        }
    };
    </script>
</head>
  <style>
    .page-section img {
      max-width: 1000px;
      width: 100%
    }
  </style>
</head>

<body id="page-top">
  
  
<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top" id="mainNav">
    <div class="container-xl">
        <a href=https://henrysky.github.io/en>
            <img src=https://henrysky.github.io/assets/img/profile.jpg alt="My profile picture" title="Home Page"
                class="img-fluid rounded-circle"></a>
        <div class="col-md-4 d-inline-block me-auto">
            <div class="site-logo">
                <h3 style="margin-bottom: 0px; font-weight: bolder;">
                    Henry Leung
                </h3>
                <p style="margin-bottom: 0px; font-size:14px; color: darkgray;">
                    Astronomy &amp; Deep Learning
                </p>
            </div>
        </div>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive"
            aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span
                class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ms-auto" id="pagemenu">
                
                <li class="nav-item">
                    <a href="/" class="nav-link" id="About">
                        <i class="fa-solid fa-user d-lg-flex" title="About Me"></i>
                        <span>About</span>
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://henrysky.github.io/photography/" class="nav-link" id="Photos">
                        <i class="fa fa-camera d-lg-flex" title="My Astrophotography"></i>
                        <span>Photos</span>
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://henrysky.github.io/codes/" class="nav-link" id="Codes">
                        <i class="fa fa-code d-lg-flex" title="Featured Code"></i>
                        <span>Codes</span>
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://henrysky.github.io/research/" class="nav-link" id="Research">
                        <i class="fa fa-flask d-lg-flex" title="My Research"></i>
                        <span>Research</span>
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://henrysky.github.io/publication/" class="nav-link" id="Papers">
                        <i class="fa fa-book d-lg-flex" title="My Publications"></i>
                        <span>Papers</span>
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://henrysky.github.io/cv/" class="nav-link" id="CV">
                        <i class="fa-solid fa-timeline d-lg-flex" title="My Curriculum Vitae"></i>
                        <span>CV</span>
                    </a>
                </li>
                
                
                <li class="nav-item">
                    <a href="/blog" class="nav-link" id="Blog">
                        <i class="fab fa fa-blogger d-lg-flex" title="My Blog"></i>
                        <span>Blog</span>
                    </a>
                </li>
            </ul>
            
            <ul class="navbar-nav">
                <li class="nav-item ">
                    <span id="langmenu">
                        
                            <a href=https://henrysky.github.io/zh class="nav-link" style="min-width: 30px; /* make it shorter */" id="Cantonese" 
                            title="Cantonese - 廣東話">粵</a>
                        
                    </span>
                </li>
            </ul>

            <ul class="navbar-nav" id="thememenu">
                <li class="nav-item ">
                    <a href="javascript:void(0);" onclick="setDarkTheme()" class="nav-link" style="min-width: 30px; /* make it shorter */">
                        <i class="fa-solid fa-circle-half-stroke d-lg-flex justify-content-center"
                            title="Toggle Light/Dark theme" id="themebutton"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>

  <section class="blog-section py-0 py-md-4", id="header1">
    <div class="container-xl px-0 px-md-4 text-left">
      <div class="row">
        
        <div class="col-12 col-md-6 col-xl-4">
          <div class="card mb-0 mb-md-4 box-shadow">
            
              <div class="card-header">
                <h3 class="card-text">Converting Keras 1D Convulution to PyTorch</h3>
                <p class="card-text" style="text-align:left;">
                  By Henry Leung
                  <span style="float:right;">
                    <em>10 Oct 2023</em>
                  </span>
              </p>
              </div>
            <div class="card-body">
            <p><p>Recently I need to convert a model including 1D convolution layers trained with Keras v2 to PyTorch.
Since Keras uses channels last $(N, L, C)$ and PyTorch uses channels first $(N, C, L)$, the weight matrix needs to be
transposed in a consistent way such that the output of the two models are the same after flattening.</p>
<p>We can do a simple test to make sure we know how to transpose the weight matrix. Here we will create a simple model
in Keras and PyTorch first and get the weight matrix from the Keras model and transpose it to PyTorch format,</p></p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group d-grid">
                  <a href="https://henrysky.github.io/blog/2023-10-23-keras-torch/"><button type="button" class="btn btn-lg btn-outline-secondary", title="Read More">Read More</button></a>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="col-12 col-md-6 col-xl-4">
          <div class="card mb-0 mb-md-4 box-shadow">
            
              <div class="card-header">
                <h3 class="card-text">Blogging with Hugo</h3>
                <p class="card-text" style="text-align:left;">
                  By Henry Leung
                  <span style="float:right;">
                    <em>01 Jan 2023</em>
                  </span>
              </p>
              </div>
            <div class="card-body">
            <p><h2 id="introduction">Introduction</h2>
<p>I was looking into how blogging is done with Github Page with Jekyll and come across a nice one
developed by <a href="https://gaohaoyang.github.io/">https://gaohaoyang.github.io/</a> which this blog is based on.  While making new post which is written in markdown is straight-forward, local development such as testing  after you modified the code is not easy. Mainly due to Jekyll requires Ruby which requires MSYS2 which personally dislike.</p>
<p>So I use Windows Subsystem for Linux (WSL) which is already installed on my Windows to do the job.
Just follow <a href="https://jekyllrb.com/docs/installation/ubuntu/">https://jekyllrb.com/docs/installation/ubuntu/</a>
to install Jekyll on your WSL. Create a file called <code>blog.sh</code> and edit it by</p></p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group d-grid">
                  <a href="https://henrysky.github.io/blog/2023-01-19-post/"><button type="button" class="btn btn-lg btn-outline-secondary", title="Read More">Read More</button></a>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="col-12 col-md-6 col-xl-4">
          <div class="card mb-0 mb-md-4 box-shadow">
            
              <div class="card-header">
                <h3 class="card-text">Blogging with Jekyll and Developing it on Windows</h3>
                <p class="card-text" style="text-align:left;">
                  By Henry Leung
                  <span style="float:right;">
                    <em>10 Oct 2019</em>
                  </span>
              </p>
              </div>
            <div class="card-body">
            <p><h2 id="introduction">Introduction</h2>
<p>I was looking into how blogging is done with Github Page with Jekyll and come across a nice one
developed by <a href="https://gaohaoyang.github.io/">https://gaohaoyang.github.io/</a> which this blog is based on.  While making new post which is written in markdown is straight-forward, local development such as testing after you modified the code is not easy. Mainly due to Jekyll requires Ruby which requires MSYS2 which personally dislike.</p>
<p>So I use Windows Subsystem for Linux (WSL) which is already installed on my Windows to do the job.
Just follow <a href="https://jekyllrb.com/docs/installation/ubuntu/">https://jekyllrb.com/docs/installation/ubuntu/</a>
to install Jekyll on your WSL. Create a file called <code>blog.sh</code> and edit it by</p></p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group d-grid">
                  <a href="https://henrysky.github.io/blog/2019-10-14-blogging-with-jekyll/"><button type="button" class="btn btn-lg btn-outline-secondary", title="Read More">Read More</button></a>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="col-12 col-md-6 col-xl-4">
          <div class="card mb-0 mb-md-4 box-shadow">
            
              <div class="card-header">
                <h3 class="card-text">You&#39;re up and running!</h3>
                <p class="card-text" style="text-align:left;">
                  By Henry Leung
                  <span style="float:right;">
                    <em>03 Mar 2014</em>
                  </span>
              </p>
              </div>
            <div class="card-body">
            <p><h2 id="test">test</h2>
<p>testing testing</p>
<p>Next you can update your site name, avatar and other options using the _config.yml file in the root of your repository (shown below).</p>
<p>![_config.yml]({{ site.baseurl }}/images/config.png)</p>
<p>The easiest way to make your first post is to edit this one. Go into /_posts/ and update the Hello World markdown file. For more instructions head over to the <a href="https://github.com/barryclark/jekyll-now">Jekyll Now repository</a> on GitHub.</p></p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group d-grid">
                  <a href="https://henrysky.github.io/blog/2014-3-3-hello-world/"><button type="button" class="btn btn-lg btn-outline-secondary", title="Read More">Read More</button></a>
                </div>
              </div>
            </div>
          </div>
        </div>
        
      </div>
    </div>
  </section>
  
  
<footer class="py-4 bg-dark">
    <div class="container px-4 px-lg-5">
        <div class="row">
            <div class="col-lg-3 d-none d-md-none d-lg-block">
            <div class="small text-center text-muted"></div>
            </div>
            <div class="col-lg-6 col-md-12" style="display:flex;flex-direction: column;justify-content: center;">
            <div class="m-0 text-center text-white">Copyrighted &copy; 2018-2024
                                Henry W. Leung. <br> Last Updated: November 4, 2024</div>
            </div>
            <div class="col-lg-3 d-none d-md-none d-lg-flex" style="flex-direction: column;justify-content: center;">
                <ul class="nav-item text-center" style="margin-bottom: 0px;">
                <span class="fa-stack fa-1x" style="flex-shrink: 0;">
                    <a href="https://github.com/henrysky" target="_blank">
                    <i class="fab fa-github fa-stack-2x fa-inverse" style="--fa-inverse:var(--fa-navy); "title="My Github profile"></i>
                </a>
                </span>
                <span class="fa-stack fa-1x" style="flex-shrink: 0;">
                    <a href="https://www.linkedin.com/in/henry-leung-2664b3259/" target="_blank">
                    <i class="fab fa-linkedin fa-stack-2x fa-inverse" style="--fa-inverse:var(--fa-navy);" title="My Linkedin profile"></i>
                </a>
                </span>
                <span class="fa-stack fa-1x" style="flex-shrink: 0;">
                    <a href=https://henrysky.github.io/blog/ target="_blank">
                    <i class="fab fa-blogger fa-stack-2x fa-inverse" style="--fa-inverse:var(--fa-navy);" title="My Blog"></i>
                </a>
                </span>
                </ul>
            </div>
        </div>
        </div>
</footer>

<script src=https://henrysky.github.io/js/bootstrap.min.js></script>
<script src=https://henrysky.github.io/js/copy_code.js></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/simplelightbox/2.14.3/simple-lightbox.min.js"></script>

<script>
    function isMobileDevice() {
        return /Mobi|Android|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile|WPDesktop/i.test(navigator.userAgent);
    }

    window.onload = function() {
        if (isMobileDevice()) {
            
            pdfContainer = document.getElementById('pdf-container');
            
            if (pdfContainer) {
                pdfContainer.style.display = 'none';
                document.getElementById('mobile-warning').style.display = 'block';
            }
        }
    };
</script>
<script>
    
    (function() {
        var $gallery1 = new SimpleLightbox('#about-gallery a', {});
        var $gallery2 = new SimpleLightbox('#astrophotography a', {});
        var $gallery3 = new SimpleLightbox('#research a', {});
        var $gallery4 = new SimpleLightbox('#edu a', {});
    })();

    
    setButtonIcon();

    
    
    
    
    if ("blog" == 'blog') {  
        document.getElementById("Blog").className += " active";
    } 
    else {
        try {
            document.getElementById("Blog").className += " active";
        }
        catch(err) {
            console.log("No active element found");
        }
    }
</script>

<script>
    document.getElementById("page-top").onscroll = function myFunction() {  
        var scrolltotop = document.scrollingElement.scrollTop;
        var target = document.getElementById("header1");
        var xvalue = "center";
        var factor = 0.5;
        var yvalue = scrolltotop * factor;
        target.style.backgroundPosition = xvalue + " " + yvalue + "px";
    }
</script>

</body>

</html>